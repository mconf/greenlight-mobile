{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { useContext, useEffect, useState, useLayoutEffect, useCallback } from 'react';\nimport { useFocusEffect } from '@react-navigation/native';\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport { HeaderBackButton } from '@react-navigation/elements';\nimport Constants from 'expo-constants';\nimport { StatusBar } from 'expo-status-bar';\nimport { useTranslation } from 'react-i18next';\nimport i18n from 'i18next';\nimport TextInput from \"../../components/TextInput\";\nimport Button from \"../../components/Button\";\nimport { AuthContext } from \"../../store/context/auth-context\";\nimport api from \"../../services/api\";\nimport Styled from \"./styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar JoinConferenceScreen = function JoinConferenceScreen(props) {\n  var _route$params, _route$params2, _route$params4, _authCtx$user;\n  var navigation = props.navigation,\n    route = props.route;\n  var platform = Constants.platform;\n  var roomSlug = (_route$params = route.params) == null ? void 0 : _route$params.roomSlug;\n  var authCtx = useContext(AuthContext);\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    meetingName = _useState2[0],\n    setMeetingName = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isRunning = _useState4[0],\n    setIsRunning = _useState4[1];\n  var _useState5 = useState((_route$params2 = route.params) == null ? void 0 : _route$params2.guest),\n    _useState6 = _slicedToArray(_useState5, 2),\n    guest = _useState6[0],\n    setGuest = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    privateSession = _useState8[0],\n    setPrivateSession = _useState8[1];\n  var _useState9 = useState(''),\n    _useState10 = _slicedToArray(_useState9, 2),\n    attendeeKey = _useState10[0],\n    setAttendeeKey = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    onError = _useState12[0],\n    setOnError = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    didLoad = _useState14[0],\n    setDidLoad = _useState14[1];\n  var _useState15 = useState(false),\n    _useState16 = _slicedToArray(_useState15, 2),\n    keyboardOpen = _useState16[0],\n    setKeyboardOpen = _useState16[1];\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  useEffect(function () {\n    Keyboard.addListener('keyboardDidShow', function () {\n      setKeyboardOpen(true);\n    });\n    Keyboard.addListener('keyboardDidHide', function () {\n      setKeyboardOpen(false);\n    });\n  }, []);\n  useEffect(function () {\n    var _route$params3;\n    setGuest((_route$params3 = route.params) == null ? void 0 : _route$params3.guest);\n  }, [(_route$params4 = route.params) == null ? void 0 : _route$params4.guest]);\n  useEffect(function () {\n    if (!didLoad && authCtx != null && authCtx.token && !authCtx.isLoggedIn) {\n      api.get('/api/v1/users/authenticate').then(function (response) {\n        var token = authCtx.token;\n        var data = response.data.data;\n        var user = {\n          email: data.email,\n          slug: data.slug,\n          name: data.name,\n          avatar: data.avatar\n        };\n        authCtx.login(token, user, new Date().setFullYear(new Date().getFullYear() + 1));\n      }).catch(function (err) {\n        console.log(\"error \" + err);\n      });\n      setDidLoad(true);\n    }\n  }, [didLoad, authCtx]);\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      headerLeft: function headerLeft(props) {\n        return _jsx(HeaderBackButton, _objectSpread(_objectSpread({}, props), {}, {\n          style: {\n            marginLeft: -3\n          },\n          onPress: function onPress() {\n            navigation.reset({\n              index: 0,\n              routes: [{\n                name: 'LoginScreen'\n              }]\n            });\n          }\n        }));\n      }\n    });\n  }, [navigation]);\n  var checkIsRunning = function checkIsRunning() {\n    api.get(\"/api/v1/rooms/\" + roomSlug + \"/running\").then(function (response) {\n      var data = response.data.data;\n      if (data.isPrivate !== privateSession) {\n        setPrivateSession(data.isPrivate);\n      }\n      if (data.running !== isRunning.toString()) {\n        setIsRunning(data.running === 'true');\n      }\n      if (data.room_name !== meetingName) {\n        setMeetingName(data.room_name);\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n  useFocusEffect(useCallback(function () {\n    checkIsRunning();\n    var interval = setInterval(function () {\n      checkIsRunning();\n    }, 10000);\n    return function () {\n      clearInterval(interval);\n    };\n  }, []));\n  var joinConference = function joinConference() {\n    var opts = {};\n    if (guest && privateSession) {\n      opts = {\n        params: {\n          'user[name]': guest.name,\n          'user[email]': guest.email,\n          key: attendeeKey\n        }\n      };\n    } else if (guest) {\n      opts = {\n        params: {\n          'user[name]': guest.name,\n          'user[email]': guest.email\n        }\n      };\n    } else if (privateSession) {\n      opts = {\n        params: {\n          key: attendeeKey\n        }\n      };\n    }\n    api.get(\"/api/v1/rooms/\" + (authCtx.isLoggedIn ? 'join' : 'invite') + \"/\" + roomSlug + \"/free\", opts).then(function (response) {\n      var data = response.data.data;\n      navigation.replace('InsideConferenceScreen', {\n        defaultLanguage: i18n.language,\n        jUrl: data.mobileUrl\n      });\n    }).catch(function (error) {\n      console.log(error);\n      setOnError(true);\n    });\n  };\n  return _jsx(KeyboardAvoidingView, {\n    behavior: platform.ios ? 'padding' : 'height',\n    style: {\n      flex: 1\n    },\n    children: _jsx(TouchableWithoutFeedback, {\n      children: _jsxs(Styled.Container, {\n        children: [_jsx(Styled.Title, {\n          children: meetingName\n        }), authCtx.isLoggedIn || guest !== undefined ? _jsx(_Fragment, {\n          children: isRunning ? _jsx(_Fragment, {\n            children: privateSession ? _jsxs(Styled.Status, {\n              children: [t('screens.joinConference.roomIsPrivate'), '\\n', t('screens.joinConference.pleaseTypePassword'), '\\n', _jsx(Styled.Bold, {\n                children: t('screens.joinConference.meetingRunning')\n              })]\n            }) : _jsx(Styled.Status, {\n              children: _jsx(Styled.Bold, {\n                children: t('screens.joinConference.meetingRunning')\n              })\n            })\n          }) : _jsx(Styled.Status, {\n            children: _jsx(Styled.Bold, {\n              children: t('screens.joinConference.meetingNotStarted')\n            })\n          })\n        }) : _jsx(_Fragment, {\n          children: isRunning ? _jsxs(Styled.Status, {\n            children: [t('screens.joinConference.welcome'), '\\n', t('screens.joinConference.theMeeting'), ' ', _jsx(Styled.Bold, {\n              children: t('screens.joinConference.isRunning')\n            })]\n          }) : _jsxs(Styled.Status, {\n            children: [t('screens.joinConference.pleaseWait'), '\\n', t('screens.joinConference.theMeeting'), ' ', _jsx(Styled.Bold, {\n              children: t('screens.joinConference.didNotStart')\n            })]\n          })\n        }), !keyboardOpen ? _jsx(Styled.StatusImage, {\n          resizeMode: \"contain\",\n          source: isRunning ? require(\"../../assets/portal/invite-running.png\") : require(\"../../assets/portal/invite-not-running.png\")\n        }) : _jsx(Styled.Gap, {}), !authCtx.isLoggedIn && guest === undefined ? _jsxs(_Fragment, {\n          children: [_jsx(Button, {\n            onPress: function onPress() {\n              return navigation.navigate('LoginScreenJoin', {\n                roomSlug: roomSlug\n              });\n            },\n            children: \"Login\"\n          }), _jsx(Button, {\n            variant: \"secondary\",\n            onPress: function onPress() {\n              return navigation.navigate('GuestLoginScreen', {\n                roomSlug: roomSlug\n              });\n            },\n            children: t('screens.joinConference.joinAsGuest')\n          })]\n        }) : _jsxs(_Fragment, {\n          children: [privateSession && isRunning && _jsxs(Styled.KeyContainer, {\n            children: [_jsx(Styled.InputView, {\n              children: _jsx(TextInput, {\n                label: \"Chave de acesso\",\n                value: attendeeKey,\n                onChangeText: setAttendeeKey,\n                autoCorrect: false,\n                onError: onError,\n                keyboardType: \"url\",\n                autoCapitalize: \"none\"\n              })\n            }), onError && _jsx(Styled.WrongKey, {\n              children: t('screens.joinConference.joinAsGuest')\n            })]\n          }), _jsxs(Styled.UserName, {\n            children: [t('screens.joinConference.youWillJoinAs'), ' ', _jsxs(Styled.Bold, {\n              children: [authCtx.isLoggedIn ? (_authCtx$user = authCtx.user) == null ? void 0 : _authCtx$user.name : guest.name, \".\"]\n            })]\n          }), _jsx(Button, {\n            variant: \"tertiary\",\n            disabled: !isRunning,\n            onPress: joinConference,\n            children: t('screens.joinConference.join')\n          })]\n        }), _jsx(StatusBar, {\n          style: \"light\"\n        })]\n      })\n    })\n  });\n};\nexport default JoinConferenceScreen;","map":{"version":3,"names":["useContext","useEffect","useState","useLayoutEffect","useCallback","useFocusEffect","Keyboard","KeyboardAvoidingView","TouchableWithoutFeedback","HeaderBackButton","Constants","StatusBar","useTranslation","i18n","TextInput","Button","AuthContext","api","Styled","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","JoinConferenceScreen","props","_route$params","_route$params2","_route$params4","_authCtx$user","navigation","route","platform","roomSlug","params","authCtx","_useState","_useState2","_slicedToArray","meetingName","setMeetingName","_useState3","_useState4","isRunning","setIsRunning","_useState5","guest","_useState6","setGuest","_useState7","_useState8","privateSession","setPrivateSession","_useState9","_useState10","attendeeKey","setAttendeeKey","_useState11","_useState12","onError","setOnError","_useState13","_useState14","didLoad","setDidLoad","_useState15","_useState16","keyboardOpen","setKeyboardOpen","_useTranslation","t","addListener","_route$params3","token","isLoggedIn","get","then","response","data","user","email","slug","name","avatar","login","Date","setFullYear","getFullYear","catch","err","console","log","setOptions","headerLeft","_objectSpread","style","marginLeft","onPress","reset","index","routes","checkIsRunning","isPrivate","running","toString","room_name","error","interval","setInterval","clearInterval","joinConference","opts","key","replace","defaultLanguage","language","jUrl","mobileUrl","behavior","ios","flex","children","Container","Title","undefined","Status","Bold","StatusImage","resizeMode","source","require","Gap","navigate","variant","KeyContainer","InputView","label","value","onChangeText","autoCorrect","keyboardType","autoCapitalize","WrongKey","UserName","disabled"],"sources":["/home/matheus/mconf/greenlight-mobile/src/screens/JoinConferenceScreen/index.js"],"sourcesContent":["/* eslint-disable react/jsx-no-useless-fragment */\n/* eslint-disable react/destructuring-assignment */\nimport {\n  useContext, useEffect, useState, useLayoutEffect, useCallback\n} from 'react';\nimport { useFocusEffect } from '@react-navigation/native';\nimport { Keyboard, KeyboardAvoidingView, TouchableWithoutFeedback } from 'react-native';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { HeaderBackButton } from '@react-navigation/elements';\nimport Constants from 'expo-constants';\nimport { StatusBar } from 'expo-status-bar';\nimport { useTranslation } from 'react-i18next';\nimport i18n from 'i18next';\nimport TextInput from '../../components/TextInput';\nimport Button from '../../components/Button';\nimport { AuthContext } from '../../store/context/auth-context';\nimport api from '../../services/api';\nimport Styled from './styles';\n\nconst JoinConferenceScreen = (props) => {\n  const { navigation, route } = props;\n  const { platform } = Constants;\n  const roomSlug = route.params?.roomSlug;\n\n  const authCtx = useContext(AuthContext);\n  const [meetingName, setMeetingName] = useState('');\n  const [isRunning, setIsRunning] = useState(false);\n  const [guest, setGuest] = useState(route.params?.guest);\n\n  const [privateSession, setPrivateSession] = useState(false);\n  const [attendeeKey, setAttendeeKey] = useState('');\n  const [onError, setOnError] = useState(false);\n\n  const [didLoad, setDidLoad] = useState(false);\n  const [keyboardOpen, setKeyboardOpen] = useState(false);\n\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    Keyboard.addListener('keyboardDidShow', () => {\n      setKeyboardOpen(true);\n    });\n    Keyboard.addListener('keyboardDidHide', () => {\n      setKeyboardOpen(false);\n    });\n  }, []);\n\n  useEffect(() => {\n    setGuest(route.params?.guest);\n  }, [route.params?.guest]);\n\n  // Authenticate user if token exists\n  useEffect(() => {\n    if (!didLoad && authCtx?.token && !authCtx.isLoggedIn) {\n      api.get('/api/v1/users/authenticate')\n        .then((response) => {\n          const { token } = authCtx;\n          const { data } = response.data;\n          const user = {\n            email: data.email, slug: data.slug, name: data.name, avatar: data.avatar\n          };\n          authCtx.login(token, user, new Date().setFullYear(new Date().getFullYear() + 1));\n        })\n        .catch((err) => {\n          console.log(`error ${err}`);\n        });\n      setDidLoad(true);\n    }\n  }, [didLoad, authCtx]);\n\n  useLayoutEffect(() => {\n    navigation.setOptions({\n      // eslint-disable-next-line no-shadow\n      headerLeft: (props) => (\n        <HeaderBackButton\n          {...props}\n          style={{ marginLeft: -3 }}\n          onPress={() => {\n            navigation.reset({\n              index: 0,\n              routes: [{ name: 'LoginScreen' }]\n            });\n          }}\n        />\n      ),\n    });\n  }, [navigation]);\n\n  const checkIsRunning = () => {\n    api.get(`/api/v1/rooms/${roomSlug}/running`).then((response) => {\n      const { data } = response.data;\n      if (data.isPrivate !== privateSession) {\n        setPrivateSession(data.isPrivate);\n      }\n      if (data.running !== isRunning.toString()) {\n        setIsRunning(data.running === 'true');\n      }\n      if (data.room_name !== meetingName) {\n        setMeetingName(data.room_name);\n      }\n    }).catch((error) => {\n      console.log(error);\n    });\n  };\n\n  useFocusEffect(\n    useCallback(() => {\n      checkIsRunning();\n      const interval = setInterval(() => {\n        checkIsRunning();\n      }, 10000);\n\n      return () => {\n        clearInterval(interval);\n      };\n    }, [])\n  );\n\n  const joinConference = () => {\n    let opts = {};\n\n    if (guest && privateSession) {\n      opts = {\n        params: {\n          'user[name]': guest.name,\n          'user[email]': guest.email,\n          key: attendeeKey\n        }\n      };\n    } else if (guest) {\n      opts = {\n        params: {\n          'user[name]': guest.name,\n          'user[email]': guest.email\n        }\n      };\n    } else if (privateSession) {\n      opts = {\n        params: {\n          key: attendeeKey\n        }\n      };\n    }\n\n    api.get(`/api/v1/rooms/${authCtx.isLoggedIn ? 'join' : 'invite'}/${roomSlug}/free`, opts)\n      .then((response) => {\n        const { data } = response.data;\n        navigation.replace('InsideConferenceScreen', {\n          defaultLanguage: i18n.language,\n          jUrl: data.mobileUrl\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n        setOnError(true);\n      });\n  };\n\n  return (\n    <KeyboardAvoidingView\n      behavior={platform.ios ? 'padding' : 'height'}\n      style={{ flex: 1 }}\n    >\n      <TouchableWithoutFeedback>\n        <Styled.Container>\n          <Styled.Title>{meetingName}</Styled.Title>\n\n          {authCtx.isLoggedIn || guest !== undefined ? (\n            <>\n              {isRunning ? (\n                <>\n                  {privateSession ? (\n                    <Styled.Status>\n                      {t('screens.joinConference.roomIsPrivate')}\n                      {'\\n'}\n                      {t('screens.joinConference.pleaseTypePassword')}\n                      {'\\n'}\n                      <Styled.Bold>{t('screens.joinConference.meetingRunning')}</Styled.Bold>\n                    </Styled.Status>\n\n                  ) : (\n                    <Styled.Status>\n                      <Styled.Bold>{t('screens.joinConference.meetingRunning')}</Styled.Bold>\n                    </Styled.Status>\n                  )}\n                </>\n              ) : (\n                <Styled.Status>\n                  <Styled.Bold>{t('screens.joinConference.meetingNotStarted')}</Styled.Bold>\n                </Styled.Status>\n              )}\n            </>\n          ) : (\n            <>\n              {isRunning ? (\n                <Styled.Status>\n                  {t('screens.joinConference.welcome')}\n                  {'\\n'}\n                  {t('screens.joinConference.theMeeting')}\n                  {' '}\n                  <Styled.Bold>{t('screens.joinConference.isRunning')}</Styled.Bold>\n                </Styled.Status>\n              ) : (\n                <Styled.Status>\n                  {t('screens.joinConference.pleaseWait')}\n                  {'\\n'}\n                  {t('screens.joinConference.theMeeting')}\n                  {' '}\n                  <Styled.Bold>{t('screens.joinConference.didNotStart')}</Styled.Bold>\n                </Styled.Status>\n              )}\n            </>\n          )}\n\n          {!keyboardOpen ? (\n            <Styled.StatusImage\n              resizeMode=\"contain\"\n              source={\n            isRunning\n              ? require('../../assets/portal/invite-running.png')\n              : require('../../assets/portal/invite-not-running.png')\n          }\n            />\n          ) : (\n            <Styled.Gap />\n          )}\n          {!authCtx.isLoggedIn && guest === undefined ? (\n            <>\n              <Button onPress={() => navigation.navigate('LoginScreenJoin', { roomSlug })}>Login</Button>\n              <Button\n                variant=\"secondary\"\n                onPress={() => navigation.navigate('GuestLoginScreen', { roomSlug })}\n              >\n                {t('screens.joinConference.joinAsGuest')}\n              </Button>\n            </>\n          ) : (\n            <>\n              {(privateSession && isRunning) && (\n              <Styled.KeyContainer>\n                <Styled.InputView>\n                  <TextInput\n                    label=\"Chave de acesso\"\n                    value={attendeeKey}\n                    onChangeText={setAttendeeKey}\n                    autoCorrect={false}\n                    onError={onError}\n                    keyboardType=\"url\"\n                    autoCapitalize=\"none\"\n                  />\n                </Styled.InputView>\n                {onError && <Styled.WrongKey>{t('screens.joinConference.joinAsGuest')}</Styled.WrongKey>}\n              </Styled.KeyContainer>\n              )}\n              <Styled.UserName>\n                {t('screens.joinConference.youWillJoinAs')}\n                {' '}\n                <Styled.Bold>\n                  {authCtx.isLoggedIn ? authCtx.user?.name : guest.name}\n                  .\n                </Styled.Bold>\n              </Styled.UserName>\n              <Button variant=\"tertiary\" disabled={!isRunning} onPress={joinConference}>\n                {t('screens.joinConference.join')}\n              </Button>\n            </>\n          )}\n          <StatusBar style=\"light\" />\n        </Styled.Container>\n      </TouchableWithoutFeedback>\n    </KeyboardAvoidingView>\n  );\n};\n\nexport default JoinConferenceScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}